<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Сайт с мемами о программировании">
    <meta name="keywords" content="мемы, программирование, шутки, разработка, сайт, сообщество">
    <title>It-memes.com</title>
    <link rel="stylesheet" href="../css/style.css">
    <script src="../js/performance.js"></script>
    <script src="../js/active-menu.js"></script>
    <script src="../js/load-data.js" defer></script>

    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.17/dist/sweetalert2.min.css" rel="stylesheet">
    <link href="https://unpkg.com/swiper/swiper-bundle.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.17/dist/sweetalert2.all.min.js"></script>
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

    <p id="loading-time">Загрузка...</p>
</head>
<body>
<header class='website-header'>
    <div class='site-logo'>
        <img src="../img/eda00008d1dcd430ba467964303297fc.png" alt="Logo" height="100" width="110">
    </div>
    <h1><strong>Мемы о Программировании</strong></h1>
    <nav class="website-navigation">
        <ul class="nav">
            <li><a href="index.html" class="active">Главная страница</a></li>
            <li><a href="latest-memes.html">Последние мемы</a></li>
            <li><a href="popular-memes.html">Популярные мемы</a></li>
            <li><a href="add-meme.html">Добавить мем</a></li>
            <li><a href="table-constructor.html">Конструктор</a></li>
        </ul>
    </nav>
</header>

<main>
    <section class="main-content">
        <article class="latest-memes">
            <h2><strong>Последние мемы</strong></h2>

            <div class="swiper-container">
                <div class="swiper-wrapper" id="meme-slider">
                </div>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>
        </article>

        <section class="submit-meme">
            <h2><strong>Добавить Мем</strong></h2>
            <aside>
                <p>Хотите поделиться своим мемом? <strong>Заполните форму ниже!</strong></p>
                <button id="submit-meme-btn">Добавить Мем</button>
            </aside>
        </section>
    </section>

</main>

<footer>
    <p>(Ваша реклама:))</p>
    <div class="money">
        <p>"За деньги"</p>
    </div>
    <p>2024 <strong>Мемы о программировании.</strong></p>
</footer>

<script>
    let memes = [
        { title: "Мем 1: Проблемы сна", description: "Настоящий программист всегда должен ложиться спать или в 1:28 или в 2:56... Ну, на крайний случай, в 5:12." },
        { title: "Мем 2: Сложности дебаггинга", description: "Когда твой код работает, но ты всё равно не знаешь, почему." },
        { title: "Мем 3: Работаем 24/7", description: "Когда начальник говорит, что мы 'работаем 24/7', но на самом деле мы только ночные совы." }
    ];

    const swiper = new Swiper('.swiper-container', {
        loop: true,
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        slidesPerView: 1,
        spaceBetween: 10,
        breakpoints: {
            640: {
                slidesPerView: 3,
            },
            768: {
                slidesPerView: 4,
            }
        }
    });

    function renderMemes() {
        const memeSlider = document.getElementById('meme-slider');
        memeSlider.innerHTML = '';
        memes.forEach(meme => {
            const slide = document.createElement('div');
            slide.classList.add('swiper-slide');
            slide.innerHTML = `
                    <h3>${meme.title}</h3>
                    <p>${meme.description}</p>
                `;
            memeSlider.appendChild(slide);
        });

        swiper.update();
    }

    renderMemes();

    document.getElementById('submit-meme-btn').addEventListener('click', () => {
        Swal.fire({
            title: 'Добавьте ваш мем!',
            html: `
                    <input type="text" id="meme-title" class="swal2-input" placeholder="Название мема">
                    <textarea id="meme-description" class="swal2-textarea" placeholder="Описание мема"></textarea>
                `,
            confirmButtonText: 'Отправить',
            preConfirm: () => {
                const title = document.getElementById('meme-title').value;
                const description = document.getElementById('meme-description').value;

                if (!title || !description) {
                    Swal.showValidationMessage('Пожалуйста, заполните все поля');
                    return false;
                }

                return { title, description };
            }
        }).then(result => {
            if (result.isConfirmed) {
                memes.push(result.value);
                renderMemes();
                Swal.fire('Мем добавлен!', '', 'success');
            }
        });
    });
</script>
</body>
</html>
